<!DOCTYPE html>
<html lang="en" dir="ltr">

	<head>
		<meta charset="utf-8" />
		<title>Local storage</title>
	</head>
	<body>
		<script>
			let availableItems = ['Shampoo', 'Soap', 'Sponge', 'Water'];

			if (typeof localStorage !== 'undefined') {
				createStore();
				displayCart();
			} else {
				alert ('Sorry, your browser does not support Web storage. Try again with a better one');
			}
			
			function addItemToCart(item) {
				localStorage.setItem(item, true);
			}

			function createStore() {
				let ul = document.createElement('ul');
				document.body.appendChild(ul);
				for (let i of availableItems) {
					let li = document.createElement('li');
					li.innerHTML = i;
					li.setAttribute('onclick', `addItemToCart(${i})`);
					ul.appendChild(li);
				}
			}

			function displayCart() {
				if (localStorage.length === 0) return;
				let p = document.createElement('p');
				p.innerHTML = `You previously had ${localStorage.length} items in your cart`
				document.body.appendChild(p);
			}

		</script>
	</body>
</html>
